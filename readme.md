# QuantScope Â· é‡åŒ–äº¤æ˜“æŒ‡æ ‡ API å¼€æ”¾å¹³å°

> **QuantScope** æ˜¯ä¸€ä¸ªé¢å‘å¼€å‘è€…ä¸é‡åŒ–äº¤æ˜“åœºæ™¯çš„ **äº¤æ˜“æŒ‡æ ‡ä¿¡æ¯ API å¼€æ”¾å¹³å°**ï¼Œ
> æä¾›ç»Ÿä¸€çš„ API ç½‘å…³ã€ç­¾åè®¤è¯ã€è°ƒç”¨ç»Ÿè®¡ä¸å¾®æœåŠ¡æ¶æ„ï¼Œæ”¯æŒé«˜å¹¶å‘ã€å¯æ‰©å±•çš„é‡åŒ–æ•°æ®ä¸æŒ‡æ ‡æœåŠ¡ã€‚

---

## ğŸ“Œ é¡¹ç›®èƒŒæ™¯

åœ¨é‡åŒ–äº¤æ˜“ä¸é‡‘èåˆ†æåœºæ™¯ä¸­ï¼Œ**äº¤æ˜“æŒ‡æ ‡ã€å¸‚åœºç”»åƒä¸æƒ…ç»ªå› å­**å¾€å¾€åˆ†æ•£åœ¨ä¸åŒç³»ç»Ÿä¸­ï¼Œ
ç¼ºä¹ç»Ÿä¸€çš„è®¿é—®æ–¹å¼ä¸æƒé™æ§åˆ¶ã€‚

QuantScope è‡´åŠ›äºæ„å»ºä¸€ä¸ªï¼š

* **å®‰å…¨**ï¼ˆAK/SK + ç­¾åè®¤è¯ï¼‰
* **å¯è®¡é‡**ï¼ˆè°ƒç”¨ç»Ÿè®¡ / é™æµ / é…é¢ï¼‰
* **å¯æ‰©å±•**ï¼ˆå¾®æœåŠ¡ / äº‹ä»¶é©±åŠ¨ï¼‰
* **å¼€å‘è€…å‹å¥½**ï¼ˆAPI / SDKï¼‰

çš„ **é‡åŒ–äº¤æ˜“æŒ‡æ ‡ API SaaS å¹³å°**ã€‚

---

## ğŸ—ï¸ æ•´ä½“æ¶æ„

```text
Client / SDK
     |
     |  (AK / SK + Sign + Timestamp + Nonce)
     v
API Gateway (Spring Cloud Gateway)
     |
     |-- é‰´æƒ / éªŒç­¾
     |-- æ¥å£è·¯ç”±
     |-- è°ƒç”¨ç»Ÿè®¡
     |-- é™æµ / é˜²é‡æ”¾
     v
Dubbo RPC å¾®æœåŠ¡
     |
     |-- ç”¨æˆ·æœåŠ¡
     |-- æ¥å£ç®¡ç†æœåŠ¡
     |-- æŒ‡æ ‡ / é‡åŒ–æœåŠ¡
     |
     v
MySQL / Redis / ES / Kafka
```

---

## âœ… å·²å®ç°åŠŸèƒ½

å½“å‰ç‰ˆæœ¬å·²å®ç°ä»¥ä¸‹æ ¸å¿ƒèƒ½åŠ› ï¼š

### 1ï¸âƒ£ API ç½‘å…³èƒ½åŠ›

* åŸºäº **Spring Cloud Gateway**
* å…¨å±€è¿‡æ»¤å™¨å®ç°ç»Ÿä¸€è¯·æ±‚å…¥å£
* æ”¯æŒæ¥å£è·¯ç”±ä¸æœåŠ¡éš”ç¦»

### 2ï¸âƒ£ ç­¾åè®¤è¯ï¼ˆAK / SKï¼‰

* ä¸ºæ¯ä¸ªç”¨æˆ·ç”Ÿæˆ `accessKey / secretKey`
* ä½¿ç”¨ **HMAC / SHA256 ç­¾åæœºåˆ¶**
* æ”¯æŒ `timestamp + nonce` é˜²é‡æ”¾è®¾è®¡

### 3ï¸âƒ£ API Key ç®¡ç†

* AccessKey å”¯ä¸€æ ‡è¯†è°ƒç”¨æ–¹
* SecretKey ä»…ç”¨äºç­¾åè®¡ç®—ï¼Œä¸æ˜æ–‡ä¼ è¾“
* æ”¯æŒå¯†é’¥è½®æ¢ä¸å¤±æ•ˆç­–ç•¥ï¼ˆè®¾è®¡ä¸­ï¼‰

### 4ï¸âƒ£ æ¥å£è°ƒç”¨ç»Ÿè®¡

* æŒ‰ **ç”¨æˆ· Ã— æ¥å£** ç»´åº¦ç»Ÿè®¡è°ƒç”¨æ¬¡æ•°
* æ”¯æŒå‰©ä½™è°ƒç”¨æ¬¡æ•° / é…é¢æ¨¡å‹
* ä¸ºåç»­è®¡è´¹ç³»ç»Ÿæä¾›æ•°æ®åŸºç¡€

### 5ï¸âƒ£ Dubbo å¾®æœåŠ¡æ¶æ„

* ä½¿ç”¨ **Dubbo + Nacos** è¿›è¡ŒæœåŠ¡æ³¨å†Œä¸å‘ç°
* ç½‘å…³ä¸åç«¯æœåŠ¡å®Œå…¨è§£è€¦
* å†…éƒ¨ RPC è°ƒç”¨é«˜æ€§èƒ½ã€ä½å»¶è¿Ÿ

### 6ï¸âƒ£ æ¥å£è·¯ç”±ä¸æ ¡éªŒ

* æ ¹æ®è¯·æ±‚è·¯å¾„ + HTTP Method åŒ¹é…æ¥å£å®šä¹‰
* ä¸åˆæ³•æ¥å£ç›´æ¥åœ¨ç½‘å…³å±‚æ‹¦æˆª

---

## ğŸš§ è§„åˆ’ä¸­åŠŸèƒ½ï¼ˆRoadmapï¼‰

ä»¥ä¸‹åŠŸèƒ½å·²åœ¨è®¾è®¡ä¸­ï¼Œåç»­é€æ­¥å®ç° ï¼š

* ğŸ”¹ é›†æˆé‡åŒ–æŒ‡æ ‡æœåŠ¡ï¼ˆå¸‚åœºç”»åƒ / æƒ…ç»ªæŒ‡æ ‡ / æŠ€æœ¯æŒ‡æ ‡ï¼‰
* ğŸ”¹ Redis é™æµ + é˜²é‡æ”¾æ”»å‡»ï¼ˆNonce TTLï¼‰
* ğŸ”¹ ç”¨æˆ·è‡ªé€‰è‚¡æ•°æ®ç¼“å­˜ä¸è‡ªåŠ¨æ›´æ–°
* ğŸ”¹ é›†æˆå¤§æ¨¡å‹ï¼ˆLLMï¼‰è¿›è¡Œæ¯æ—¥å¸‚åœºæƒ…ç»ªåˆ†æ
* ğŸ”¹ è°ƒç”¨æµé‡ä¸æŒ‡æ ‡åˆ†æç»Ÿè®¡
* ğŸ”¹ å®šæ—¶ä»»åŠ¡ä¸ç³»ç»Ÿç›‘æ§ï¼ˆMonitorï¼‰
* ğŸ”¹ Elasticsearch æŒ‡æ ‡ / æ¥å£æœç´¢èƒ½åŠ›
* ğŸ”¹ Kafka å®æ—¶é‡‘èæ•°æ®æµå¤„ç†
* ğŸ”¹ RBAC ç”¨æˆ·ä¸æƒé™ä½“ç³»
* ğŸ”¹ åˆ†å¸ƒå¼äº‹åŠ¡ä¸ä¸€è‡´æ€§ä¿éšœ

---

## ğŸ” ç­¾åè®¤è¯æµç¨‹ï¼ˆç®€è¦ï¼‰

```text
Client
  |
  |-- body + secretKey -> sign
  |-- accessKey / timestamp / nonce / sign
  v
Gateway
  |
  |-- æ ¡éªŒ accessKey
  |-- æ ¡éªŒæ—¶é—´çª—å£
  |-- æ ¡éªŒ nonce
  |-- æœåŠ¡ç«¯é‡ç®— sign
  v
Backend Service
```

---

## ğŸ§± æŠ€æœ¯æ ˆ

* **Java 17**
* **Spring Boot 3.x**
* **Spring Cloud Gateway (WebFlux)**
* **Dubbo 3.x**
* **Nacos**
* **MySQL / Redis**
* **Kafka / Elasticsearchï¼ˆè§„åˆ’ï¼‰**

---

## ğŸ“‚ é¡¹ç›®æ¨¡å—ï¼ˆç¤ºæ„ï¼‰

```text
quant-scope-gateway        # API ç½‘å…³
quant-scope-common         # å…¬å…±æ¨¡å‹ / DTO / æ¥å£
quant-scope-user-service   # ç”¨æˆ· & AK/SK ç®¡ç†
quant-scope-interface      # æ¥å£å®šä¹‰ä¸ç®¡ç†
quant-scope-quant-service  # é‡åŒ–ä¸æŒ‡æ ‡æœåŠ¡ï¼ˆè§„åˆ’ï¼‰
```

---


